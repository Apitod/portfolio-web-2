/* Scroll Story Animation */
@keyframes zoom-in {
  0% {
    transform: translateZ(-1000px);
    opacity: 0;
    filter: blur(5px);
  }

  50% {
    transform: translateZ(0px);
    opacity: 1;
    filter: blur(0px);
  }

  100% {
    transform: translateZ(1000px);
    opacity: 0;
    filter: blur(5px);
  }
}

/* About Container */
.AboutContainer {
  min-height: 400vh;
  position: relative;
}

/* Sticky Grid */
.stuck-grid {
  block-size: 100svh;
  perspective: 1000px;
  transform-style: preserve-3d;

  display: grid;
  grid: repeat(4, 25dvh) / repeat(4, 25dvw);
  place-items: center;

  position: sticky;
  top: 0;

  overflow: clip;
}

.stuck-grid>.grid-item {
  transform-style: preserve-3d;

  font-size: 5vmin;
  font-weight: lighter;
  text-wrap: nowrap;
  text-align: center;

  @supports (animation-timeline: scroll()) {
    @media (prefers-reduced-motion: no-preference) {
      animation: zoom-in linear both;
      animation-timeline: scroll(root block);
      will-change: transform, opacity, filter;
    }
  }

  &.special.special {
    grid-row: 2 / span 2;
    grid-column: 2 / span 2;
  }

  /* Wrapper for narrative text to allow wrapping and proper sizing */
  &.narrative {
    white-space: normal;
    text-wrap: balance;
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    font-weight: 500;
    max-width: 60vw;
    line-height: 1.5;
    z-index: 10;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(4px);
    padding: 1rem;
    border-radius: 1rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  >b {
    font-size: 15vmin;
    font-weight: 800;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  >img {
    width: 100%;
    height: 100%;
    max-width: 25vmin;
    max-height: 25vmin;
    object-fit: cover;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  }

  /* 
    Animation Ranges for 20 items 
    Distributed approx 5% per item overlap
  */

  /* 1. Hi! */
  &:nth-of-type(1) {
    animation-range: 0% 10%;
  }

  /* 2. Meet */
  &:nth-of-type(2) {
    animation-range: 5% 15%;
  }

  /* 3. Razan (Special) */
  &:nth-of-type(3) {
    animation-range: 0% 20%;
  }

  /* 4. Narrative: Bio */
  &:nth-of-type(4) {
    animation-range: 10% 25%;
  }

  /* 5. Img: Uni */
  &:nth-of-type(5) {
    animation-range: 20% 30%;
  }

  /* 6. Narrative: Education */
  &:nth-of-type(6) {
    animation-range: 25% 35%;
  }

  /* 7. Img: Workspace */
  &:nth-of-type(7) {
    animation-range: 30% 40%;
  }

  /* 8. Narrative: Web Dev */
  &:nth-of-type(8) {
    animation-range: 35% 45%;
  }

  /* 9. Img: Mentoring */
  &:nth-of-type(9) {
    animation-range: 40% 50%;
  }

  /* 10. Narrative: Toolkit */
  &:nth-of-type(10) {
    animation-range: 45% 55%;
  }

  /* 11. Narrative: YOLO Info */
  &:nth-of-type(11) {
    animation-range: 50% 60%;
  }

  /* 12. Img: YOLO */
  &:nth-of-type(12) {
    animation-range: 55% 65%;
  }

  /* 13. Narrative: Automation */
  &:nth-of-type(13) {
    animation-range: 60% 70%;
  }

  /* 14. Img: Automation */
  &:nth-of-type(14) {
    animation-range: 65% 75%;
  }

  /* 15. Narrative: Pianist */
  &:nth-of-type(15) {
    animation-range: 70% 80%;
  }

  /* 16. Img: Piano */
  &:nth-of-type(16) {
    animation-range: 75% 85%;
  }

  /* 17. Narrative: Communities */
  &:nth-of-type(17) {
    animation-range: 80% 90%;
  }

  /* 18. Img: YRI */
  &:nth-of-type(18) {
    animation-range: 85% 95%;
  }

  /* 19. Img: AIESEC */
  &:nth-of-type(19) {
    animation-range: 88% 98%;
  }

  /* 20. Special: Always Growing */
  &:nth-of-type(20) {
    animation-range: 90% 100%;
  }

  /* Grid positioning */
  @supports (animation-timeline: scroll()) {

    /* 1. Hi */
    &:nth-of-type(1) {
      grid-area: 1/1;
      justify-self: start;
      align-self: start;
      margin: 4rem;
      font-size: 8vmin;
    }

    /* 2. Meet */
    &:nth-of-type(2) {
      grid-area: 1/4;
      justify-self: end;
      align-self: start;
      margin: 4rem;
      font-size: 8vmin;
    }

    /* 3. Razan */
    &:nth-of-type(3) {
      grid-area: 2/2 / span 2 / span 2;
    }

    /* 4. Narrative: Bio */
    &:nth-of-type(4) {
      grid-area: 3/2 / span 1 / span 2;
      align-self: end;
      padding-bottom: 2rem;
    }

    /* 5. Img Uni */
    &:nth-of-type(5) {
      grid-area: 2/1;
    }

    /* 6. Narrative Education */
    &:nth-of-type(6) {
      grid-area: 2/2 / span 2 / span 2;
    }

    /* 7. Img Workspace */
    &:nth-of-type(7) {
      grid-area: 2/4;
    }

    /* 8. Narrative Web Dev */
    &:nth-of-type(8) {
      grid-area: 3/2 / span 1 / span 2;
    }

    /* 9. Img Mentoring */
    &:nth-of-type(9) {
      grid-area: 1/2;
    }

    /* 10. Narrative Toolkit */
    &:nth-of-type(10) {
      grid-area: 2/3;
      width: 150%;
      margin-left: -25%;
    }

    /* 11. Narrative YOLO Info */
    &:nth-of-type(11) {
      grid-area: 2/2;
      width: 150%;
      margin-left: -25%;
    }

    /* 12. Img YOLO */
    &:nth-of-type(12) {
      grid-area: 4/3;
    }

    /* 13. Narrative Automation */
    &:nth-of-type(13) {
      grid-area: 1/3;
      width: 120%;
    }

    /* 14. Img Automation */
    &:nth-of-type(14) {
      grid-area: 4/2;
    }

    /* 15. Narrative Pianist */
    &:nth-of-type(15) {
      grid-area: 1/2 / span 2 / span 2;
      align-self: start;
      padding-top: 4rem;
      z-index: 20;
    }

    /* 16. Img Piano */
    &:nth-of-type(16) {
      grid-area: 4/1;
    }

    /* 17. Narrative Communities */
    &:nth-of-type(17) {
      grid-area: 2/2 / span 1 / span 2;
      z-index: 20;
    }

    /* 18. Img YRI */
    &:nth-of-type(18) {
      grid-area: 1/1;
    }

    /* 19. Img AIESEC */
    &:nth-of-type(19) {
      grid-area: 4/4;
    }

    /* 20. Special: Always Growing */
    &:nth-of-type(20) {
      grid-area: 2/2 / span 2 / span 2;
    }

    &:nth-of-type(20)>b {
      font-size: 10vmin;
    }
  }
}

.spacer {
  height: 400vh;
}

/* Detailed About Section */
.DetailedAboutSection {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 40px 20px;
  min-height: 300vh;
  overflow-y: auto;
  overflow-x: hidden;
  max-width: 900px;
  margin: 0 auto;
}

.DetailScroll {
  margin-bottom: 100vh;
  padding: 20px;
  text-align: center;
  max-width: 800px;
  width: 100%;
}

.DetailScroll:first-child {
  margin-top: 50vh;
}

.DetailScrollBottom {
  margin-bottom: 50vh;
}

/* Responsive Design */

/* Tablet (max-width: 1024px) */
@media (max-width: 1024px) {
  .stuck-grid {
    grid: repeat(4, 25dvh) / repeat(4, 25dvw);
  }

  .stuck-grid>.grid-item {
    font-size: 4vmin;

    >b {
      font-size: 12vmin;
    }

    >img {
      max-width: 18vmin;
      max-height: 18vmin;
    }
  }
}

/* Mobile (max-width: 768px) */
@media (max-width: 768px) {
  .stuck-grid {
    grid: repeat(4, 25dvh) / repeat(2, 50dvw);
  }

  .stuck-grid>.grid-item {
    font-size: 5vmin;

    >b {
      font-size: 10vmin;
    }

    >img {
      max-width: 25vmin;
      max-height: 25vmin;
    }

    &.special.special {
      grid-row: 2 / span 2;
      grid-column: 1 / span 2;
    }

    /* Adjust grid positions for mobile 2-column layout - 20 Items */
    @supports (animation-timeline: scroll()) {

      /* 1. Hi */
      &:nth-of-type(1) {
        grid-area: 1/1;
      }

      /* 2. Meet */
      &:nth-of-type(2) {
        grid-area: 1/2;
      }

      /* 3. Razan */
      &:nth-of-type(3) {
        grid-area: 2/1 / span 2 / span 2;
      }

      /* 4. Bio */
      &:nth-of-type(4) {
        grid-area: 3/1 / span 1 / span 2;
      }

      /* 5. Uni */
      &:nth-of-type(5) {
        grid-area: 4/1;
      }

      /* 6. Edu */
      &:nth-of-type(6) {
        grid-area: 2/1 / span 2 / span 2;
      }

      /* 7. Workspace */
      &:nth-of-type(7) {
        grid-area: 4/2;
      }

      /* 8. Web Dev */
      &:nth-of-type(8) {
        grid-area: 3/1 / span 1 / span 2;
      }

      /* 9. Mentoring */
      &:nth-of-type(9) {
        grid-area: 1/1;
      }

      /* 10. Toolkit */
      &:nth-of-type(10) {
        grid-area: 2/1 / span 1 / span 2;
      }

      /* 11. YOLO Info */
      &:nth-of-type(11) {
        grid-area: 3/1 / span 1 / span 2;
      }

      /* 12. YOLO Img */
      &:nth-of-type(12) {
        grid-area: 4/1;
      }

      /* 13. Automation */
      &:nth-of-type(13) {
        grid-area: 1/1 / span 1 / span 2;
      }

      /* 14. Automation Img */
      &:nth-of-type(14) {
        grid-area: 4/2;
      }

      /* 15. Pianist */
      &:nth-of-type(15) {
        grid-area: 1/1 / span 2 / span 2;
        padding-top: 4rem;
      }

      /* 16. Piano Img */
      &:nth-of-type(16) {
        grid-area: 4/1;
      }

      /* 17. Communities */
      &:nth-of-type(17) {
        grid-area: 2/1 / span 1 / span 2;
      }

      /* 18. YRI */
      &:nth-of-type(18) {
        grid-area: 1/1;
      }

      /* 19. AIESEC */
      &:nth-of-type(19) {
        grid-area: 1/2;
      }

      /* 20. Growing */
      &:nth-of-type(20) {
        grid-area: 2/1 / span 2 / span 2;
      }
    }
  }
}

/* Support Layer */
@layer support {
  * {
    box-sizing: border-box;
    margin: 0;
  }

  html {
    block-size: 100%;
    color-scheme: dark light;
  }

  body {
    font-family: system-ui, sans-serif;
  }
}